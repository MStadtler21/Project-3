(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{17:function(e){e.exports={domain:"dev-psd7m8a3.us.auth0.com",clientId:"gX1Q1KgrRd7MP9K3tc0tcieEnANFlEPO"}},43:function(e,t,n){e.exports=n(92)},50:function(e,t,n){},51:function(e,t,n){},52:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},77:function(e,t,n){},87:function(e,t,n){},88:function(e,t,n){},92:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(20),c=n.n(l),o=n(11),i=n(3),u=n(4),s=n(7),m=Object(s.a)(),d=(n(50),function(){var e=Object(u.b)().logout;return r.a.createElement("button",{onClick:function(){return e()},id:"qsLogoutBtn",variant:"danger",className:"logoutButton"},"Log Out")}),E=(n(51),function(){var e=Object(u.b)().loginWithRedirect;return r.a.createElement("button",{onClick:function(){e()},id:"qsLoginBtn",variant:"primary",className:"loginButton"},"Log In")}),g=(n(52),function(e){var t=e.handle,n=Object(u.b)().isAuthenticated,a=Object(i.e)();return r.a.createElement("nav",{className:"navbar navbar-light"},r.a.createElement("button",{onClick:t.enter,className:"fullButton"},"Fullscreen"),r.a.createElement(o.b,{to:"/",className:"h1 navbar-brand"},"Heard"),r.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end"}},r.a.createElement(o.b,{to:"/orders",className:a.pathname="navbar-brand active"},"Orders"),r.a.createElement(o.b,{to:"/builder",className:a.pathname="navbar-brand active"},"Builder"),r.a.createElement(o.b,{to:"/profile",className:a.pathname="navbar-brand active"},"Profile"),r.a.createElement("div",{className:"justify-content-end",style:{paddingRight:15}},n?r.a.createElement(d,null):r.a.createElement(E,null))))}),f=function(){return r.a.createElement("div",{className:"spinner-border text-success",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading..."))},p=(n(57),function(){return r.a.createElement("div",{className:"welcome-div"},r.a.createElement("h1",null,"Welcome, User"),r.a.createElement("p",null,"Heard is an application designed to make your life in the kitchen easier than you ever believed possible."),r.a.createElement("p",null,"Simply navigate to the orders page to begin a new order, check your inventory, or find generate a PDF to send to your supplier."))}),b=function(){return r.a.createElement(p,null)},h=n(95);var v=function(){return r.a.createElement("a",{href:"https://github.com/hamery93/Project-3",rel:"noopener noreferror",target:"_blank"},r.a.createElement(h.a,{color:"rgb(0, 0, 0)",size:24}))};n(58);var O=function(){return r.a.createElement("div",{className:"footer"},"View Source Code: ",r.a.createElement(v,null))},j=n(21),N=n(12),k=n(14);n(59);var w=function(e){return r.a.createElement("span",Object.assign({className:"delete-btn"},e,{role:"button",tabIndex:"0"}),"\u2717")};var y=function(e){var t=e.children;return r.a.createElement("div",{style:{height:50,clear:"both",padding:5,textAlign:"center",fontFamily:"Roboto Mono",backgroundColor:"#bfdcae"},className:"jumbotron"},t)},I=n(19),x=n.n(I),C={getTodos:function(){return x.a.get("api/inventories")},getTodo:function(e){return x.a.get("/api/todos/"+e)},deleteTodo:function(e){return console.log("Hit"),x.a.delete("api/inventories"+e)},saveTodos:function(e){return x.a.post("api/inventories",e)}};function P(e){var t=e.fluid,n=e.children;return r.a.createElement("div",{className:"container".concat(t?"-fluid":"")},n)}function A(e){var t=e.fluid,n=e.children;return r.a.createElement("div",{className:"row".concat(t?"-fluid":"")},n)}function R(e){var t=e.size,n=e.children;return r.a.createElement("div",{className:t.split(" ").map(function(e){return"col-"+e}).join(" ")},n)}n(77);function T(e){var t=e.children;return r.a.createElement("div",{className:"list-overflow-container"},r.a.createElement("ul",{className:"list-group"},t))}function q(e){var t=e.children;return r.a.createElement("li",{className:"list-group-item"},t)}function L(e){return r.a.createElement("div",{className:"form-group"},r.a.createElement("input",Object.assign({className:"form-control"},e)))}function S(e){return r.a.createElement("div",{className:"form-group"},r.a.createElement("textarea",Object.assign({className:"form-control",rows:"5"},e)))}function B(e){return r.a.createElement("button",Object.assign({},e,{style:{float:"right",marginBottom:10},className:"btn btn-success"}),e.children)}var D=n(16),M=n.n(D),z=n(22),F=n(96),W=n(97),_=n(17),J=_.apiOrigin,G=void 0===J?"http://localhost:3001":J,H=Object(u.c)(function(){var e=Object(a.useState)({showResult:!1,apiMessage:"",error:null}),t=Object(k.a)(e,2),n=t[0],l=t[1],c=Object(u.b)(),o=c.getAccessTokenSilently,i=c.loginWithPopup,s=c.getAccessTokenWithPopup,m=function(){var e=Object(z.a)(M.a.mark(function e(){return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s();case 3:l(Object(N.a)({},n,{error:null})),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),l(Object(N.a)({},n,{error:e.t0.error}));case 9:return e.next=11,E();case 11:case"end":return e.stop()}},e,null,[[0,6]])}));return function(){return e.apply(this,arguments)}}(),d=function(){var e=Object(z.a)(M.a.mark(function e(){return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i();case 3:l(Object(N.a)({},n,{error:null})),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),l(Object(N.a)({},n,{error:e.t0.error}));case 9:return e.next=11,E();case 11:case"end":return e.stop()}},e,null,[[0,6]])}));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(z.a)(M.a.mark(function e(){var t,a,r;return M.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o();case 3:return t=e.sent,e.next=6,fetch("".concat(G,"/api/external"),{headers:{Authorization:"Bearer ".concat(t)}});case 6:return a=e.sent,e.next=9,a.json();case 9:r=e.sent,l(Object(N.a)({},n,{showResult:!0,apiMessage:r})),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),l(Object(N.a)({},n,{error:e.t0.error}));case 16:case"end":return e.stop()}},e,null,[[0,13]])}));return function(){return e.apply(this,arguments)}}(),g=function(e,t){e.preventDefault(),t()};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"mb-5"},"consent_required"===n.error&&r.a.createElement(F.a,{color:"warning"},"You need to"," ",r.a.createElement("a",{href:"#/",class:"alert-link",onClick:function(e){return g(e,m)}},"consent to get access to users api")),"login_required"===n.error&&r.a.createElement(F.a,{color:"warning"},"You need to"," ",r.a.createElement("a",{href:"#/",class:"alert-link",onClick:function(e){return g(e,d)}},"log in again")),r.a.createElement("h1",null,"External API"),r.a.createElement("p",null,"Ping an external API by clicking the button below. This will call the external API using an access token, and the API will validate it using the API's audience value."),r.a.createElement(W.a,{color:"primary",className:"mt-5",onClick:E},"Ping API")),r.a.createElement("div",{className:"result-block-container"},n.showResult&&r.a.createElement("div",{className:"result-block","data-testid":"api-result"},r.a.createElement("h6",{className:"muted"},"Result"),r.a.createElement("p",null,r.a.createElement("span",null,JSON.stringify(n.apiMessage,null,2))))))},{onRedirecting:function(){return r.a.createElement(f,null)}});var Q=function(){var e=Object(u.b)(),t=e.user.sub,n=e.isAuthenticated,l=e.isLoading,c=e.error,i=Object(a.useState)([]),s=Object(k.a)(i,2),m=s[0],d=s[1],E=Object(a.useState)({}),g=Object(k.a)(E,2),p=g[0],b=g[1],h=function(){console.log("Loading Todos"),C.getTodos().then(function(e){return d(e.data)}).catch(function(e){return console.log(e)})};function v(e){var t=e.target,n=t.name,a=t.value;console.log(p),b(Object(N.a)({},p,Object(j.a)({},n,a)))}return Object(a.useEffect)(function(){h(),console.log(m)},[]),c?r.a.createElement("div",null,"Oops... ",c.message):l?r.a.createElement(f,null):n?r.a.createElement(P,null,r.a.createElement(A,null,n?r.a.createElement(R,{size:"md-3"},r.a.createElement(y,null,r.a.createElement("h4",null,"Enter item")),r.a.createElement("form",null,r.a.createElement(L,{onChange:v,name:"user",placeholder:"Designate task to employee (required)"}),r.a.createElement(L,{onChange:v,name:"item",placeholder:"Item (required)"}),r.a.createElement(L,{onChange:v,name:"quantity",placeholder:"Quantity (required)"}),r.a.createElement(L,{onChange:v,name:"cost",placeholder:"Cost (required)"}),r.a.createElement(L,{onChange:v,name:"produce",placeholder:"Produce (required)"}),r.a.createElement(L,{onChange:v,name:"meat",placeholder:"Meat (required)"}),r.a.createElement(L,{onChange:v,name:"driedGoods",placeholder:"Dried goods (required)"}),r.a.createElement(S,{onChange:v,name:"notes",placeholder:"Notes (Optional)"}),r.a.createElement(B,{disabled:!(p.user&&p.item),onClick:function(e){e.preventDefault(),C.saveTodos(Object(N.a)({},p,{userId:t})).then(function(e){return h()}).catch(function(e){return console.log(e)})}}," Add to list "))):"Please log in",r.a.createElement(R,{size:"md-4 sm-12"},r.a.createElement(y,null,r.a.createElement("h4",null,"Prep list")),m.length?r.a.createElement(T,null,m.map(function(e){return r.a.createElement(q,{key:e._id},r.a.createElement(o.b,{to:"/todos/"+e._id},r.a.createElement("strong",null,"User: ",e.user,r.a.createElement("br",null),"Item: ",e.item,r.a.createElement("br",null),"Quantity: ",e.quantity,r.a.createElement("br",null),"Cost: ",e.cost,r.a.createElement("br",null),"Produce: ",e.produce,r.a.createElement("br",null),"Meat: ",e.meat,r.a.createElement("br",null),"DriedGoods: ",e.cost,r.a.createElement("br",null),r.a.createElement("br",null),"Notes: ",e.notes,r.a.createElement("br",null))),t===e.userId&&r.a.createElement(w,{onClick:function(){return t=e._id,void C.deleteTodo(t).then(function(e){return h()}).catch(function(e){return console.log(e)});var t}}))})):r.a.createElement("h5",null,"Nothing to prep")),r.a.createElement(R,{size:"md-4 sm-12"},r.a.createElement(y,null,r.a.createElement("h4",null,"Details"))))):r.a.createElement("div",null,r.a.createElement(H,null))},U=(n(87),function(){var e=Object(u.b)(),t=e.user,n=t.picture,a=t.name,l=t.email,c=(t.sub,e.isAuthenticated);return e.isLoading?r.a.createElement("div",null,"Loading ..."):c?r.a.createElement("div",{className:"userProfile"},r.a.createElement("img",{src:n,alt:a}),r.a.createElement("h2",null,a),r.a.createElement("p",null,l)):r.a.createElement("div",null,r.a.createElement("p",null,"Please login to continue..."))}),K=function(){return r.a.createElement(U,null)},Y=n(28),V=function(e){var t=e.data,n=Object(a.useState)(t),l=Object(k.a)(n,2),c=l[0],o=l[1],i=Object(a.useState)(!1),u=Object(k.a)(i,2),s=u[0],m=u[1],d=Object(a.useRef)(),E=Object(a.useRef)(),g=function(e,t){console.log("Entering drag...",t);var n=d.current;e.target!==E.current&&o(function(e){var a=JSON.parse(JSON.stringify(e));return a[t.grpI].items.splice(t.itemI,0,a[n.grpI].items.splice(n.itemI,1)[0]),d.current=t,a})},f=function e(){console.log("Ending drag..."),m(!1),E.current.removeEventListener("dragend",e),d.current=null,E.current=null},p=function(e){var t=d.current;return t.grpI===e.grpI&&t.itemI===e.itemI?"current dnd-item":"dnd-item"};return r.a.createElement("div",{className:"drag-n-drop"},c.map(function(e,t){return r.a.createElement("div",{key:e.title,onDragEnter:s&&!e.items.length?function(e){return g(e,{grpI:t,itemI:0})}:null,className:"dnd-group"},e.items.map(function(e,n){return r.a.createElement("div",{draggable:!0,key:e,onDragStart:function(e){return function(e,t){console.log("drag starting...",t),d.current=t,E.current=e.target,E.current.addEventListener("dragend",f),setTimeout(function(){m(!0)},0)}(e,{grpI:t,itemI:n})},onDragEnter:s?function(e){g(e,{grpI:t,itemI:n})}:null,className:s?p({grpI:t,itemI:n}):"dnd-item"},e)}))}))},X=(n(88),n(42)),$=n.n(X),Z=r.a.createRef(),ee=[{title:"group 1",items:["1","2","3"]},{title:"group 2",items:["4","5"]}],te=function(){var e=Object(u.b)(),t=e.isAuthenticated,n=e.isLoading,a=e.error;return a?r.a.createElement("div",null,"Oops... ",a.message):n?r.a.createElement(f,null):t?r.a.createElement(r.a.Fragment,null,r.a.createElement($.a,{targetRef:Z,filename:"new-order.pdf"},function(e){var t=e.toPdf;return r.a.createElement("button",{onClick:t,className:"pdf-Button"}," Generate Pdf")}),r.a.createElement("header",{ref:Z,className:"Drag-header"},r.a.createElement(V,{data:ee}))):r.a.createElement("div",null,r.a.createElement(H,null))},ne=function(){var e=Object(u.b)(),t=(e.isAuthenticated,e.isLoading),n=e.error,a=Object(Y.b)();return n?r.a.createElement("div",null,"Oops... ",n.message):t?r.a.createElement(f,null):r.a.createElement(o.a,{history:m},r.a.createElement(Y.a,{handle:a},r.a.createElement(g,{handle:a}),r.a.createElement("body",null,r.a.createElement("main",null,r.a.createElement(o.a,null,r.a.createElement(i.a,{exact:!0,path:"/",component:b}),r.a.createElement(i.a,{exact:!0,path:"/orders",component:Q}),r.a.createElement(i.a,{exact:!0,path:"/builder",component:te}),r.a.createElement(i.a,{path:"/profile",component:K})))),r.a.createElement(O,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(91);c.a.render(r.a.createElement(u.a,{domain:_.domain,clientId:_.clientId,audience:_.audience,redirectUri:window.location.origin,onRedirectCallback:function(e){m.push(e&&e.returnTo?e.returnTo:window.location.pathname)}},r.a.createElement(ne,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[43,1,2]]]);
//# sourceMappingURL=main.39a79bde.chunk.js.map